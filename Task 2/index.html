<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Car Price Predictor</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f4f6f9;
      padding: 2rem;
    }
    .container {
      max-width: 500px;
      margin: auto;
      background: white;
      padding: 2rem;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    label {
      display: block;
      margin-top: 1rem;
    }
    input, select, button {
      width: 100%;
      padding: 0.8rem;
      margin-top: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    button {
      background: #28a745;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }
    button:hover {
      background: #218838;
    }
    #result {
      margin-top: 1.5rem;
      font-size: 1.2rem;
      font-weight: bold;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>Car Price Prediction</h2>

    <label for="year">Year of Purchase</label>
    <input type="number" id="year" placeholder="e.g. 2017" />

    <label for="present_price">Present Price (in Lakhs)</label>
    <input type="number" id="present_price" placeholder="e.g. 5.5" step="0.01" />

    <label for="kms_driven">Kms Driven</label>
    <input type="number" id="kms_driven" placeholder="e.g. 40000" />

    <label for="owner">No. of Previous Owners</label>
    <input type="number" id="owner" placeholder="e.g. 0" />

    <label for="fuel_type">Fuel Type</label>
    <select id="fuel_type">
      <option value="Petrol">Petrol</option>
      <option value="Diesel">Diesel</option>
      <option value="CNG">CNG</option>
    </select>

    <label for="seller_type">Seller Type</label>
    <select id="seller_type">
      <option value="Dealer">Dealer</option>
      <option value="Individual">Individual</option>
    </select>

    <label for="transmission">Transmission</label>
    <select id="transmission">
      <option value="Manual">Manual</option>
      <option value="Automatic">Automatic</option>
    </select>

    <button onclick="predictPrice()">Predict</button>

    <div id="result"></div>
  </div>

  <script>
    async function predictPrice() {
      const data = {
        year: document.getElementById('year').value,
        present_price: document.getElementById('present_price').value,
        kms_driven: document.getElementById('kms_driven').value,
        owner: document.getElementById('owner').value,
        fuel_type: document.getElementById('fuel_type').value,
        seller_type: document.getElementById('seller_type').value,
        transmission: document.getElementById('transmission').value
      };

      const response = await fetch('http://localhost:5000/predict', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });

      const result = await response.json();
      if (result.prediction !== undefined) {
        document.getElementById('result').innerText = `Estimated Price: â‚¹${result.prediction} Lakhs`;
      } else {
        document.getElementById('result').innerText = "Error: " + result.error;
      }
    }
  </script>
</body>
</html>
